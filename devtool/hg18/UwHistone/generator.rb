#!/usr/local/bin/ruby-1.9

require 'erb'
require 'fileutils'

HEADER = "      ## track: UW Histone"

TABLES = %w(
wgEncodeUwChIPSeqPeaksRep1BjtertCtcf
wgEncodeUwChIPSeqHotspotsRep1BjtertCtcf
wgEncodeUwChIPSeqRawSignalRep1BjtertCtcf
wgEncodeUwChIPSeqHotspotsRep2BjtertCtcf
wgEncodeUwChIPSeqRawSignalRep2BjtertCtcf
wgEncodeUwChIPSeqPeaksRep1BjH3k4me3
wgEncodeUwChIPSeqHotspotsRep1BjH3k4me3
wgEncodeUwChIPSeqRawSignalRep1BjH3k4me3
wgEncodeUwChIPSeqHotspotsRep2BjH3k4me3
wgEncodeUwChIPSeqRawSignalRep2BjH3k4me3
wgEncodeUwChIPSeqPeaksRep1BjH3k27me3
wgEncodeUwChIPSeqHotspotsRep1BjH3k27me3
wgEncodeUwChIPSeqRawSignalRep1BjH3k27me3
wgEncodeUwChIPSeqHotspotsRep2BjH3k27me3
wgEncodeUwChIPSeqRawSignalRep2BjH3k27me3
wgEncodeUwChIPSeqPeaksRep1BjH3k36me3
wgEncodeUwChIPSeqHotspotsRep1BjH3k36me3
wgEncodeUwChIPSeqRawSignalRep1BjH3k36me3
wgEncodeUwChIPSeqHotspotsRep2BjH3k36me3
wgEncodeUwChIPSeqRawSignalRep2BjH3k36me3
wgEncodeUwChIPSeqPeaksRep1Caco2Ctcf
wgEncodeUwChIPSeqHotspotsRep1Caco2Ctcf
wgEncodeUwChIPSeqRawSignalRep1Caco2Ctcf
wgEncodeUwChIPSeqHotspotsRep2Caco2Ctcf
wgEncodeUwChIPSeqRawSignalRep2Caco2Ctcf
wgEncodeUwChIPSeqPeaksRep1Caco2H3k4me3
wgEncodeUwChIPSeqHotspotsRep1Caco2H3k4me3
wgEncodeUwChIPSeqRawSignalRep1Caco2H3k4me3
wgEncodeUwChIPSeqHotspotsRep2Caco2H3k4me3
wgEncodeUwChIPSeqRawSignalRep2Caco2H3k4me3
wgEncodeUwChIPSeqPeaksRep1Caco2H3k27me3
wgEncodeUwChIPSeqHotspotsRep1Caco2H3k27me3
wgEncodeUwChIPSeqRawSignalRep1Caco2H3k27me3
wgEncodeUwChIPSeqHotspotsRep2Caco2H3k27me3
wgEncodeUwChIPSeqRawSignalRep2Caco2H3k27me3
wgEncodeUwChIPSeqPeaksRep1Caco2H3k36me3
wgEncodeUwChIPSeqHotspotsRep1Caco2H3k36me3
wgEncodeUwChIPSeqRawSignalRep1Caco2H3k36me3
wgEncodeUwChIPSeqHotspotsRep2Caco2H3k36me3
wgEncodeUwChIPSeqRawSignalRep2Caco2H3k36me3
wgEncodeUwChIPSeqPeaksRep1Gm06990Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf
wgEncodeUwChIPSeqHotspotsRep2Gm06990Ctcf
wgEncodeUwChIPSeqRawSignalRep2Gm06990Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm06990H3k4me3
wgEncodeUwChIPSeqHotspotsRep1Gm06990H3k4me3
wgEncodeUwChIPSeqRawSignalRep1Gm06990H3k4me3
wgEncodeUwChIPSeqHotspotsRep2Gm06990H3k4me3
wgEncodeUwChIPSeqRawSignalRep2Gm06990H3k4me3
wgEncodeUwChIPSeqPeaksRep1Gm06990H3k27me3
wgEncodeUwChIPSeqHotspotsRep1Gm06990H3k27me3
wgEncodeUwChIPSeqRawSignalRep1Gm06990H3k27me3
wgEncodeUwChIPSeqHotspotsRep2Gm06990H3k27me3
wgEncodeUwChIPSeqRawSignalRep2Gm06990H3k27me3
wgEncodeUwChIPSeqPeaksRep1Gm06990H3k36me3
wgEncodeUwChIPSeqHotspotsRep1Gm06990H3k36me3
wgEncodeUwChIPSeqRawSignalRep1Gm06990H3k36me3
wgEncodeUwChIPSeqHotspotsRep2Gm06990H3k36me3
wgEncodeUwChIPSeqRawSignalRep2Gm06990H3k36me3
wgEncodeUwChIPSeqPeaksGm12801Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm12801Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm12801Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm12864Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm12864Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm12864Ctcf
wgEncodeUwChIPSeqHotspotsRep2Gm12864Ctcf
wgEncodeUwChIPSeqRawSignalRep2Gm12864Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm12865Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm12865Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm12865Ctcf
wgEncodeUwChIPSeqHotspotsRep2Gm12865Ctcf
wgEncodeUwChIPSeqRawSignalRep2Gm12865Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm12872Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm12872Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm12872Ctcf
wgEncodeUwChIPSeqHotspotsRep2Gm12872Ctcf
wgEncodeUwChIPSeqRawSignalRep2Gm12872Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm12873Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm12873Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm12873Ctcf
wgEncodeUwChIPSeqHotspotsRep2Gm12873Ctcf
wgEncodeUwChIPSeqRawSignalRep2Gm12873Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm12874Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm12874Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm12874Ctcf
wgEncodeUwChIPSeqHotspotsRep2Gm12874Ctcf
wgEncodeUwChIPSeqRawSignalRep2Gm12874Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm12875Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm12875Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm12875Ctcf
wgEncodeUwChIPSeqHotspotsRep2Gm12875Ctcf
wgEncodeUwChIPSeqRawSignalRep2Gm12875Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm12878Ctcf
wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf
wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf
wgEncodeUwChIPSeqHotspotsRep2Gm12878Ctcf
wgEncodeUwChIPSeqRawSignalRep2Gm12878Ctcf
wgEncodeUwChIPSeqPeaksRep1Gm12878H3k4me3
wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3
wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3
wgEncodeUwChIPSeqHotspotsRep2Gm12878H3k4me3
wgEncodeUwChIPSeqRawSignalRep2Gm12878H3k4me3
wgEncodeUwChIPSeqPeaksRep1Gm12878H3k27me3
wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k27me3
wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k27me3
wgEncodeUwChIPSeqHotspotsRep2Gm12878H3k27me3
wgEncodeUwChIPSeqRawSignalRep2Gm12878H3k27me3
wgEncodeUwChIPSeqPeaksRep1Gm12878H3k36me3
wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k36me3
wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k36me3
wgEncodeUwChIPSeqHotspotsRep2Gm12878H3k36me3
wgEncodeUwChIPSeqRawSignalRep2Gm12878H3k36me3
wgEncodeUwChIPSeqPeaksRep1Hek293Ctcf
wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf
wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf
wgEncodeUwChIPSeqHotspotsRep2Hek293Ctcf
wgEncodeUwChIPSeqRawSignalRep2Hek293Ctcf
wgEncodeUwChIPSeqPeaksRep1Helas3Ctcf
wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf
wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf
wgEncodeUwChIPSeqHotspotsRep2Helas3Ctcf
wgEncodeUwChIPSeqRawSignalRep2Helas3Ctcf
wgEncodeUwChIPSeqPeaksRep1Helas3H3k4me3
wgEncodeUwChIPSeqHotspotsRep1Helas3H3k4me3
wgEncodeUwChIPSeqRawSignalRep1Helas3H3k4me3
wgEncodeUwChIPSeqHotspotsRep2Helas3H3k4me3
wgEncodeUwChIPSeqRawSignalRep2Helas3H3k4me3
wgEncodeUwChIPSeqPeaksRep1Helas3H3k27me3
wgEncodeUwChIPSeqHotspotsRep1Helas3H3k27me3
wgEncodeUwChIPSeqRawSignalRep1Helas3H3k27me3
wgEncodeUwChIPSeqHotspotsRep2Helas3H3k27me3
wgEncodeUwChIPSeqRawSignalRep2Helas3H3k27me3
wgEncodeUwChIPSeqPeaksRep1Helas3H3k36me3
wgEncodeUwChIPSeqHotspotsRep1Helas3H3k36me3
wgEncodeUwChIPSeqRawSignalRep1Helas3H3k36me3
wgEncodeUwChIPSeqHotspotsRep2Helas3H3k36me3
wgEncodeUwChIPSeqRawSignalRep2Helas3H3k36me3
wgEncodeUwChIPSeqPeaksHepg2Ctcf
wgEncodeUwChIPSeqHotspotsRep1Hepg2Ctcf
wgEncodeUwChIPSeqRawSignalRep1Hepg2Ctcf
wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf
wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf
wgEncodeUwChIPSeqPeaksRep1Hepg2H3k4me3
wgEncodeUwChIPSeqHotspotsRep1Hepg2H3k4me3
wgEncodeUwChIPSeqRawSignalRep1Hepg2H3k4me3
wgEncodeUwChIPSeqHotspotsRep2Hepg2H3k4me3
wgEncodeUwChIPSeqRawSignalRep2Hepg2H3k4me3
wgEncodeUwChIPSeqPeaksRep1Hepg2H3k27me3
wgEncodeUwChIPSeqHotspotsRep1Hepg2H3k27me3
wgEncodeUwChIPSeqRawSignalRep1Hepg2H3k27me3
wgEncodeUwChIPSeqHotspotsRep2Hepg2H3k27me3
wgEncodeUwChIPSeqRawSignalRep2Hepg2H3k27me3
wgEncodeUwChIPSeqPeaksRep1Hepg2H3k36me3
wgEncodeUwChIPSeqHotspotsRep1Hepg2H3k36me3
wgEncodeUwChIPSeqRawSignalRep1Hepg2H3k36me3
wgEncodeUwChIPSeqPeaksHl60Ctcf
wgEncodeUwChIPSeqHotspotsRep1Hl60Ctcf
wgEncodeUwChIPSeqRawSignalRep1Hl60Ctcf
wgEncodeUwChIPSeqPeaksRep1Hl60H3k4me3
wgEncodeUwChIPSeqHotspotsRep1Hl60H3k4me3
wgEncodeUwChIPSeqRawSignalRep1Hl60H3k4me3
wgEncodeUwChIPSeqHotspotsRep2Hl60H3k4me3
wgEncodeUwChIPSeqRawSignalRep2Hl60H3k4me3
wgEncodeUwChIPSeqPeaksRep1HmecCtcf
wgEncodeUwChIPSeqHotspotsRep1HmecCtcf
wgEncodeUwChIPSeqRawSignalRep1HmecCtcf
wgEncodeUwChIPSeqPeaksRep1HmecH3k27me3
wgEncodeUwChIPSeqHotspotsRep1HmecH3k27me3
wgEncodeUwChIPSeqRawSignalRep1HmecH3k27me3
wgEncodeUwChIPSeqPeaksHreCtcf
wgEncodeUwChIPSeqHotspotsRep1HreCtcf
wgEncodeUwChIPSeqRawSignalRep1HreCtcf
wgEncodeUwChIPSeqHotspotsRep2HreCtcf
wgEncodeUwChIPSeqRawSignalRep2HreCtcf
wgEncodeUwChIPSeqPeaksRep1HreH3k4me3
wgEncodeUwChIPSeqHotspotsRep1HreH3k4me3
wgEncodeUwChIPSeqRawSignalRep1HreH3k4me3
wgEncodeUwChIPSeqHotspotsRep2HreH3k4me3
wgEncodeUwChIPSeqRawSignalRep2HreH3k4me3
wgEncodeUwChIPSeqPeaksRep1HreH3k27me3
wgEncodeUwChIPSeqHotspotsRep1HreH3k27me3
wgEncodeUwChIPSeqRawSignalRep1HreH3k27me3
wgEncodeUwChIPSeqHotspotsRep2HreH3k27me3
wgEncodeUwChIPSeqRawSignalRep2HreH3k27me3
wgEncodeUwChIPSeqPeaksRep1HreH3k36me3
wgEncodeUwChIPSeqHotspotsRep1HreH3k36me3
wgEncodeUwChIPSeqRawSignalRep1HreH3k36me3
wgEncodeUwChIPSeqHotspotsRep2HreH3k36me3
wgEncodeUwChIPSeqRawSignalRep2HreH3k36me3
wgEncodeUwChIPSeqPeaksRep1HuvecCtcf
wgEncodeUwChIPSeqHotspotsRep1HuvecCtcf
wgEncodeUwChIPSeqRawSignalRep1HuvecCtcf
wgEncodeUwChIPSeqHotspotsRep2HuvecCtcf
wgEncodeUwChIPSeqRawSignalRep2HuvecCtcf
wgEncodeUwChIPSeqPeaksRep1HuvecH3k4me3
wgEncodeUwChIPSeqHotspotsRep1HuvecH3k4me3
wgEncodeUwChIPSeqRawSignalRep1HuvecH3k4me3
wgEncodeUwChIPSeqHotspotsRep2HuvecH3k4me3
wgEncodeUwChIPSeqRawSignalRep2HuvecH3k4me3
wgEncodeUwChIPSeqPeaksRep1HuvecH3k27me3
wgEncodeUwChIPSeqHotspotsRep1HuvecH3k27me3
wgEncodeUwChIPSeqRawSignalRep1HuvecH3k27me3
wgEncodeUwChIPSeqHotspotsRep2HuvecH3k27me3
wgEncodeUwChIPSeqRawSignalRep2HuvecH3k27me3
wgEncodeUwChIPSeqPeaksRep1HuvecH3k36me3
wgEncodeUwChIPSeqHotspotsRep1HuvecH3k36me3
wgEncodeUwChIPSeqRawSignalRep1HuvecH3k36me3
wgEncodeUwChIPSeqHotspotsRep2HuvecH3k36me3
wgEncodeUwChIPSeqRawSignalRep2HuvecH3k36me3
wgEncodeUwChIPSeqPeaksRep1K562Ctcf
wgEncodeUwChIPSeqHotspotsRep1K562Ctcf
wgEncodeUwChIPSeqRawSignalRep1K562Ctcf
wgEncodeUwChIPSeqHotspotsRep2K562Ctcf
wgEncodeUwChIPSeqRawSignalRep2K562Ctcf
wgEncodeUwChIPSeqPeaksRep1K562H3k4me3
wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3
wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3
wgEncodeUwChIPSeqPeaksRep1K562H3k27me3
wgEncodeUwChIPSeqHotspotsRep1K562H3k27me3
wgEncodeUwChIPSeqRawSignalRep1K562H3k27me3
wgEncodeUwChIPSeqHotspotsRep2K562H3k27me3
wgEncodeUwChIPSeqRawSignalRep2K562H3k27me3
wgEncodeUwChIPSeqPeaksRep1K562H3k36me3
wgEncodeUwChIPSeqHotspotsRep1K562H3k36me3
wgEncodeUwChIPSeqRawSignalRep1K562H3k36me3
wgEncodeUwChIPSeqHotspotsRep2K562H3k36me3
wgEncodeUwChIPSeqRawSignalRep2K562H3k36me3
wgEncodeUwChIPSeqPeaksRep1NhekCtcf
wgEncodeUwChIPSeqHotspotsRep1NhekCtcf
wgEncodeUwChIPSeqRawSignalRep1NhekCtcf
wgEncodeUwChIPSeqHotspotsRep2NhekCtcf
wgEncodeUwChIPSeqRawSignalRep2NhekCtcf
wgEncodeUwChIPSeqPeaksRep1NhekH3k4me3
wgEncodeUwChIPSeqHotspotsRep1NhekH3k4me3
wgEncodeUwChIPSeqRawSignalRep1NhekH3k4me3
wgEncodeUwChIPSeqHotspotsRep2NhekH3k4me3
wgEncodeUwChIPSeqRawSignalRep2NhekH3k4me3
wgEncodeUwChIPSeqPeaksRep1NhekH3k27me3
wgEncodeUwChIPSeqHotspotsRep1NhekH3k27me3
wgEncodeUwChIPSeqRawSignalRep1NhekH3k27me3
wgEncodeUwChIPSeqHotspotsRep2NhekH3k27me3
wgEncodeUwChIPSeqRawSignalRep2NhekH3k27me3
wgEncodeUwChIPSeqPeaksRep1NhekH3k36me3
wgEncodeUwChIPSeqHotspotsRep1NhekH3k36me3
wgEncodeUwChIPSeqRawSignalRep1NhekH3k36me3
wgEncodeUwChIPSeqHotspotsRep2NhekH3k36me3
wgEncodeUwChIPSeqRawSignalRep2NhekH3k36me3
wgEncodeUwChIPSeqPeaksRep1SaecCtcf
wgEncodeUwChIPSeqHotspotsRep1SaecCtcf
wgEncodeUwChIPSeqRawSignalRep1SaecCtcf
wgEncodeUwChIPSeqHotspotsRep2SaecCtcf
wgEncodeUwChIPSeqRawSignalRep2SaecCtcf
wgEncodeUwChIPSeqPeaksRep1SaecH3k4me3
wgEncodeUwChIPSeqHotspotsRep1SaecH3k4me3
wgEncodeUwChIPSeqRawSignalRep1SaecH3k4me3
wgEncodeUwChIPSeqHotspotsRep2SaecH3k4me3
wgEncodeUwChIPSeqRawSignalRep2SaecH3k4me3
wgEncodeUwChIPSeqPeaksRep1SaecH3k27me3
wgEncodeUwChIPSeqHotspotsRep1SaecH3k27me3
wgEncodeUwChIPSeqRawSignalRep1SaecH3k27me3
wgEncodeUwChIPSeqHotspotsRep2SaecH3k27me3
wgEncodeUwChIPSeqRawSignalRep2SaecH3k27me3
wgEncodeUwChIPSeqPeaksRep1SaecH3k36me3
wgEncodeUwChIPSeqHotspotsRep1SaecH3k36me3
wgEncodeUwChIPSeqRawSignalRep1SaecH3k36me3
wgEncodeUwChIPSeqHotspotsRep2SaecH3k36me3
wgEncodeUwChIPSeqRawSignalRep2SaecH3k36me3
wgEncodeUwChIPSeqPeaksRep1SknshraCtcf
wgEncodeUwChIPSeqHotspotsRep1SknshraCtcf
wgEncodeUwChIPSeqRawSignalRep1SknshraCtcf
wgEncodeUwChIPSeqHotspotsRep2SknshraCtcf
wgEncodeUwChIPSeqRawSignalRep2SknshraCtcf
wgEncodeUwChIPSeqPeaksRep1SknshraH3k4me3
wgEncodeUwChIPSeqHotspotsRep1SknshraH3k4me3
wgEncodeUwChIPSeqRawSignalRep1SknshraH3k4me3
wgEncodeUwChIPSeqHotspotsRep2SknshraH3k4me3
wgEncodeUwChIPSeqRawSignalRep2SknshraH3k4me3
wgEncodeUwChIPSeqPeaksRep1SknshraH3k27me3
wgEncodeUwChIPSeqHotspotsRep1SknshraH3k27me3
wgEncodeUwChIPSeqRawSignalRep1SknshraH3k27me3
wgEncodeUwChIPSeqHotspotsRep2SknshraH3k27me3
wgEncodeUwChIPSeqRawSignalRep2SknshraH3k27me3
wgEncodeUwChIPSeqPeaksRep1SknshraH3k36me3
wgEncodeUwChIPSeqHotspotsRep1SknshraH3k36me3
wgEncodeUwChIPSeqRawSignalRep1SknshraH3k36me3
wgEncodeUwChIPSeqHotspotsRep2SknshraH3k36me3
wgEncodeUwChIPSeqRawSignalRep2SknshraH3k36me3
wgEncodeUwChIPSeqPeaksWerirb1Ctcf
wgEncodeUwChIPSeqHotspotsRep1Werirb1Ctcf
wgEncodeUwChIPSeqRawSignalRep1Werirb1Ctcf
wgEncodeUwChIPSeqHotspotsRep2Werirb1Ctcf
wgEncodeUwChIPSeqRawSignalRep2Werirb1Ctcf
)

temp_spec = "template_spec.txt"
temp_auto = "template_auto.txt"
temp_main = "template_main.txt"

FileUtils.mkdir_p("Specs") unless FileTest.exist?("Specs")
FileUtils.mkdir_p("Libs") unless FileTest.exist?("Libs")

TABLES.each do |tab|
  table_name  = tab
  klass_name  = tab[0].upcase << tab[1..-1]
  script_name = tab.downcase

  open("Specs/#{script_name}_spec.rb", "w") do |writer|
    erb = ERB.new File.read(temp_spec)
    writer.puts erb.result binding
  end

  open("Libs/#{script_name}.rb", "w") do |writer|
    erb = ERB.new File.read(temp_main)
    writer.puts erb.result binding
  end
end

open("autoload_snippet.rb", 'w') do |writer|
  writer.puts HEADER
  TABLES.each do |tab|
    table_name  = tab
    klass_name  = tab[0].upcase << tab[1..-1]
    script_name = tab.downcase
    erb = ERB.new File.read(temp_auto)
    writer.puts erb.result binding
  end
end
